{% extends '_layout.html' %}
{% load static %}


{% block jsBlock %}
    <script src="{% static 'assets/Scripts/persian-datepicker.js'%}"></script>
    <script src="{% static 'assets/vendors/MdBootstrapPersianDateTimePicker/js/calendar.js' %}"
    type="text/javascript"></script>
    <script
        src="{% static 'assets/vendors/MdBootstrapPersianDateTimePicker/js/jquery.Bootstrap-PersianDateTimePicker.js' %}"
        type="text/javascript">
    </script>

    <script>
        $(function () {
            $('#datepicker0').datepicker();
            $('#datepicker1').datepicker();
        });
    </script>
{% endblock %}


{% block cssBlock %}
<style>
        hr{
        width: 95%;
        border-top: 1px solid rgb(184, 184, 184);
        margin-top: 5%;
        }
        
</style>
<style>
    p {
        margin: 25px 10px;
        color : black;
        font-size: 14px;
    }

    ul {
        margin-top: 20px;
    }

    .style_class {
        margin: 1px -35%
    }
    .style_class2 {
        margin: 1px -26%
    }
    .size_Style{
        font-size: 14px;
    }
    .colorfull{
        color : black;
        font-size: 14px;
    }

</style>
<style>

#rangeValue {
  position: relative;
  display: block;
  text-align: center;
  font-size: 4em;
  color: #999;
  font-weight: 400;
}
#rangeValuetwo {
  position: relative;
  display: block;
  text-align: center;
  font-size: 4em;
  color: #999;
  font-weight: 400;
}
.range {
  width: 400px;
  height: 15px;
  -webkit-appearance: none;
  background: #111;
  outline: none;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: inset 0 0 5px rgba(0, 0, 0, 1);
}
.rangetwo {
  width: 400px;
  height: 15px;
  -webkit-appearance: none;
  background: #111;
  outline: none;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: inset 0 0 5px rgba(0, 0, 0, 1);
}
.rangetwo::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #4d93f0;
  cursor: pointer;
  border: 4px solid #333;
  box-shadow: -407px 0 0 400px #4d93f0;
}
.range::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #4d93f0;
  cursor: pointer;
  border: 4px solid #333;
  box-shadow: -407px 0 0 400px #4d93f0;
}

</style>
{% endblock %}


{% block pageContent %}
        <div class="">
            <div class="x_panel">
                <div class="x_title bg-primary">
                    <h2 class="pull-right">درخت تصمیم</h2>
                    <ul class="nav navbar-left panel_toolbox">
                        <li>
                            <a class="close-link"><i class="fa fa-close"></i></a>
                        </li>
                        <li>
                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <form action="" method="post">
                        {% csrf_token %}
                        <div class="row">

                            <div class="col-md-6 col-sm-12 col-xs-12 form-group pull-right">
                                <p class="control-label col-md-4 col-sm-12 col-xs-12 pull-right">
                                    کلید واژه (تجربه) :
                                </p>
                                    <select class="hidden" id="keywords" name="knowledge_keywords1" multiple="true"  data-role="tagsinput">
                                    </select>
        
                                    <input type="text" class="hidden" id="knowledge_keyword" name="knowledge_keyword" required>
                            </div>

                            <div class="col-md-2 col-sm-12 col-xs-12 form-group pull-right">
                                <p class="control-label col-md-6 col-sm-12 col-xs-12 pull-right">درصد مشابهت :  </p>
                                <span id="rangeValue">0</span>
                                <input class="range" type="range" name="matching_percent1" value="0" min="0" max="100" onChange="rangeSlide(this.value)" onmousemove="rangeSlide(this.value)" dir="ltr"/>
                                <script>
                                    function rangeSlide(value) {
                                        document.getElementById('rangeValue').innerHTML = value;
                                    }
                                </script>
                            </div>
                            
                            <hr>

                            <div class="col-md-6 col-sm-12 col-xs-12 form-group pull-right">
                                <p class="control-label col-md-4 col-sm-12 col-xs-12 pull-right">
                                    کلید واژه (راه حل یا مشکل) :
                                </p>
                                    <select class="hidden" id="solutions" name="knowledge_keywords2" multiple="true"  data-role="tagsinput" >
                                    </select>
        
                                    <input type="text" class="hidden" id="sulotion_keyword" name="sulotion_keyword" required>
                            </div>

                            <div class="col-md-2 col-sm-12 col-xs-12 form-group pull-right">
                                <p class="control-label col-md-6 col-sm-12 col-xs-12 pull-right">درصد مشابهت :  </p>
                                <span id="rangeValuetwo">0</span>
                                <input class="rangetwo" type="range" name="matching_percent2" value="0" min="0" max="100" onChange="rangeSlidetwo(this.value)" onmousemove="rangeSlidetwo(this.value)" dir="ltr"/>
                                <script>
                                    function rangeSlidetwo(value) {
                                        document.getElementById('rangeValuetwo').innerHTML = value;
                                    }
                                </script>
                            </div>
                            <div class="clear"></div>

                            <div class="col-md-3 col-sm-12 col-xs-12 form-group pull-right">
                                <button class="btn btn-primary" id="buttonShow" type="submit">نمایش</button>
                            </div>

                            

                        </div>
                        <div class="col-md-6 col-sm-12 col-xs-12 form-group pull-right">
                            <label style="color : blue;" class="control-label col-md-5 col-sm-3 col-xs-12 pull-right size_Style"><i class="fa fa-circle" style="color : blue;" aria-hidden="true"></i> راه حل 
                                :</label>
                            <span class="col-md-12 col-sm-12 col-xs-12 form-group pull-right">
                                
                                {% if knowledges.KnowledgeWhichAction %}

                                {{ knowledges.KnowledgeWhichAction|safe }}

                                {% else %}

                                <p>{{ msg_box }}</p>

                                {% endif %}
                                    
                            </span>
                        </div>
                    </form>
                </div>
                <script>
                    var knowledgeOptions = ''
                    var solutionOptions = ''
                    $("#buttonShow").click(function(){
                        $("#keywords option").each(function(){
                            knowledgeOptions  = knowledgeOptions + $(this).val().trim() + '_'
                        });
                        
                        $("#knowledge_keyword").val(knowledgeOptions)

                        $("#solutions option").each(function(){
                            solutionOptions  = solutionOptions + $(this).val().trim() + '_'
                        });

                        $("#sulotion_keyword").val(solutionOptions)
                });

                </script>

            </div>
        </div>
{% endblock %}